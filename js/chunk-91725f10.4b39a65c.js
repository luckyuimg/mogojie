(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-91725f10"],{"25fe":function(t,e,n){"use strict";n("fc1e")},"397a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"cate-gory"}},[n("category-nav"),n("category-list",{attrs:{"list-item":t.categorylist},on:{getMaitKey:t.getMaitKey}}),n("Scroll",{ref:"scroll",staticClass:"scroll",attrs:{"pull-up-load":!0,probeType:3}},[n("category-content",{attrs:{subcategory:t.showCategory},on:{categoryImgLoad:t.categoryImgLoad}}),n("tab-control",{ref:"tabControl2",attrs:{title:["流行","新款","精选"]},on:{tabClick:t.tabClick}}),n("goods-list",{attrs:{goods:t.categoryData[t.currentType]}}),n("div",{staticClass:"bottom"})],1)],1)},r=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"cate-gory"}},[n("nav-bar",{staticClass:"nav-bar"},[n("div",{attrs:{slot:"center"},slot:"center"},[t._v("商品分类")])])],1)},c=[],s=n("a7ac"),o={name:"CategoryNav",components:{NavBar:s["a"]},data:function(){return{}}},l=o,u=(n("25fe"),n("2877")),f=Object(u["a"])(l,i,c,!1,null,"26317536",null),d=f.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},[n("Scroll",{staticClass:"content"},[n("div",{staticClass:"mulu"},[t._l(t.listItem,(function(e,a){return n("ul",[n("li",{staticClass:"item",class:{active:t.currentIndex===a},on:{click:function(e){return t.listClick(a)}}},[t._v(t._s(e.title))])])})),n("div",{staticClass:"bottom"})],2)])],1)},y=[],b=n("5d17"),m={name:"CategoryList",data:function(){return{currentIndex:0}},components:{Scroll:b["a"]},props:{listItem:{type:Array,default:function(){return[]}}},methods:{listClick:function(t){this.currentIndex=t,this.$emit("getMaitKey",t)}}},p=m,h=(n("dd5f"),Object(u["a"])(p,g,y,!1,null,"27d0f432",null)),C=h.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},t._l(t.subcategory,(function(e,a){return n("gird-view",{key:a,staticClass:"grid-item"},[n("a",{attrs:{href:e.link}},[n("img",{attrs:{src:e.image,alt:"图片"},on:{load:t.imageLoad}}),n("p",[t._v(t._s(e.title))])])])})),1)},_=[],k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid-view"},[t._t("default")],2)},x=[],I={name:"GirdView"},w=I,$=(n("8343"),Object(u["a"])(w,k,x,!1,null,"312330bc",null)),L=$.exports,j={name:"CategoryContent",props:{subcategory:{type:Array,default:function(){return[]}}},components:{GirdView:L},methods:{imageLoad:function(){this.$bus.$emit("categoryImgLoad")}}},O=j,T=(n("6390"),Object(u["a"])(O,v,_,!1,null,"62c57d16",null)),K=T.exports,S=n("1bab");function D(){return Object(S["a"])({url:"/category"})}function E(t){return Object(S["a"])({url:"/subcategory",params:{maitKey:t}})}function M(t,e){return Object(S["a"])({url:"/subcategory/detail",params:{miniWallkey:t,type:e}})}var A=n("5ad3"),G=n("6d71"),N={name:"Category",components:{CategoryNav:d,CategoryList:C,CategoryContent:K,Scroll:b["a"],TabControl:A["a"],GoodsList:G["a"]},data:function(){return{categorylist:[],maitKey:null,currentIndex:0,subcategory:[],categoryData:{},currentType:"pop"}},created:function(){var t=this;this.getList(),setTimeout((function(){t.$refs.scroll.refresh()}),1500),this.getCategoryDetail("pop"),this.getCategoryDetail("sell"),this.getCategoryDetail("new")},computed:{showCategory:function(){return-1===this.currentIndex?[]:this.subcategory}},methods:{categoryImgLoad:function(){this.$refs.scroll.refresh()},tabClick:function(t){switch(this.currentIndex=t,t){case 0:this.currentType="pop";break;case 1:this.currentType="new";break;case 2:this.currentType="sell";break}},getList:function(){var t=this;D().then((function(e){console.log(e),t.categorylist=e.data.category.list,t.getSubcategory(0)}))},getSubcategory:function(t){var e=this;this.currentIndex=t;var n=this.categorylist[t].maitKey;E(n).then((function(t){e.subcategory=t.data.list}))},getCategoryDetail:function(t){M(miniWallkey,t).then((function(t){}))},getMaitKey:function(t){this.getSubcategory(t)}}},J=N,V=(n("8e35"),Object(u["a"])(J,a,r,!1,null,"35152cff",null));e["default"]=V.exports},"5ab6":function(t,e,n){},"5ad3":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab_control"},t._l(t.title,(function(e,a){return n("div",{key:e,staticClass:"tab-control-item",class:{active:t.currentIndex===a},on:{click:function(e){return t.itemClick(a)}}},[n("span",[t._v(t._s(e))])])})),0)},r=[],i={name:"TabControl",props:{title:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("tabClick",t)}}},c=i,s=(n("a254"),n("2877")),o=Object(s["a"])(c,a,r,!1,null,"3ff0353b",null);e["a"]=o.exports},6390:function(t,e,n){"use strict";n("8027")},"7dbf":function(t,e,n){},8027:function(t,e,n){},8343:function(t,e,n){"use strict";n("7dbf")},"8e35":function(t,e,n){"use strict";n("5ab6")},a254:function(t,e,n){"use strict";n("b06a")},a395:function(t,e,n){},b06a:function(t,e,n){},dd5f:function(t,e,n){"use strict";n("a395")},fc1e:function(t,e,n){}}]);
//# sourceMappingURL=chunk-91725f10.4b39a65c.js.map